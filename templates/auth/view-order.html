{% extends 'auth/profile.html' %}
{% load static %}

{% block user_history %}
<div class="lg:w-3/4 md:w-2/3 md:px-3">
    <div class="p-6 rounded-md shadow-md bg-gray-100 dark:bg-gray-800">
        <h2 class="text-2xl font-semibold text-gray-800 mb-6">Order Details</h2>
        
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-lg font-semibold text-gray-800">Order Information</h3>
            <span class="text-gray-600">#{{ order.id }}</span>
        </div>
        
        <div class="flex items-center mb-6">
            <img src="{{ order.tour.images.first.image.url }}" alt="{{ order.tour.title }}" class="w-16 h-16 object-cover rounded-full border-4 border-blue-500">
            <div class="ml-4">
                <h4 class="text-lg font-semibold text-gray-800">{{ order.tour.title }}</h4>
                <p class="text-sm text-gray-600">{{ order.booking_date|date:"F d, Y" }}</p>
            </div>
        </div>
        
        <hr class="border-b border-gray-300 my-6">
        
        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-800">Booking Details</h3>
            <p class="text-gray-700">Participants: {{ order.participants }}</p>
            <p class="text-gray-700">Total Price: ${{ order.total_price }}</p>
            <p class="text-gray-700">Booking Status: {{ order.get_status_display }}</p>
        </div>
        
        <hr class="border-b border-gray-300 my-6">
        
        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-800">Payment Information</h3>
            <p class="text-gray-700">Payment Method: {{ order.get_payment_method_display }}</p>
            {% if order.is_paid %}
                <p class="text-gray-700">Paid Amount: ${{ order.paid_amount }}</p>
                <p class="text-gray-700">Payment Date: {{ order.payment_date }}</p>
            {% else %}
                <p class="text-gray-700">Status: Payment Pending</p>
            {% endif %}
        </div>
        
        <hr class="border-b border-gray-300 my-6">
        
        <div class="flex justify-end">
            <button class="bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">Cancel Booking</button>
        </div>
    </div>
</div>
{% endblock user_history %}

